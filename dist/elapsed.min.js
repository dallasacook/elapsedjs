!function(e){function n(e){a(e)}function t(e,n){var t=null,u=null;return u=r(e,n),t=0>=u?0>u?n.futurePhrase:n.initPhrase:l(u,n),{str:t,diff:u}}function l(e,n){for(var t="",l=null,u=null,r=null,a=null,i=null,o=0;o<e.length;o++)if(u=e[o].unit,a=e[o].value,0!==a||"second"===u||"sec"===u){if(!n.exact&&5>a)r="hour"===u||"hr"===u?"an":"a",l=0!==a?1===a&&null!==a?r+" "+u:r+" few "+u+"s":a+" "+u+"s",t+=l+n.seperator+" ";else{if("string"===n.number){if(10>a)l=s.single[a];else if(a>=10&&20>a)l=s.teens[a-10];else if(a>=20&&100>a)for(var c=20;a>=c;c+=10)i=a-c>0?"-"+s.single[a-c]:"",l=s.tens[String(a).charAt(0)-2]+i}else l=a+"";t+=1!==a?" "+l+" "+u+"s":" "+l+" "+u,t+=o<e.length-1?n.seperator+" ":" "}if(o===e.length-1||null===e[o+1].value){t+=n.appendPhrase;break}}return t}function u(e,n){for(var t in e)if(e[t]===n)return t;return null}function r(e,n){var t=null,l=new Date;null===n.timeCache?(t=new Date("seconds"===n.dateType?1e3*e:e),n.timeCache=t):t=n.inlineDate?new Date("seconds"===n.dateType?1e3*e:e):n.timeCache;var r=(l.getTime()-t.getTime())/1e3;if(0>r)return r;var a=null;a=n.shortHand?{h:n.shortHandValues.hour,m:n.shortHandValues.minute,s:n.shortHandValues.second}:{h:"hour",m:"minute",s:"second"};for(var i=[{unit:"decade",func:function(e){return Math.floor(e/31536e4)},value:null},{unit:"year",func:function(e){return Math.floor(e/31557e3)},value:null},{unit:"month",func:function(e){return Math.floor(e/2628e3)},value:null},{unit:"week",func:function(e){return Math.floor(Math.floor(e/86400)/7)},value:null},{unit:"day",func:function(e){return Math.floor(e/86400)},value:null},{unit:a.h,func:function(e){return Math.floor(e/3600)},value:null},{unit:a.m,func:function(e){return Math.floor(e/60)},value:null},{unit:a.s,func:function(e){return Math.floor(e)},value:null}],o=0;o<i.length&&(i[o].value=i[o].func(r),n.clock||!(i[o].value>0));o++);if(n.clock)for(var s=null,c=null,f=null,d=null,o=0;o<i.length;o++)i[o].value>0&&(d=n.shortHand&&o>4?u(n.shortHandValues,i[o].unit):i[o].unit,f=c,c=i[o].value,s>0&&(n.clockOptions[d].display&&"second"!==d&&"year"!==d&&"month"!==d&&"week"!==d?i[o].value=i[o].value-f*n.clockOptions[d].lower:"year"===d?i[o].value=i[o].value%10:"month"===d?i[o].value=i[o].value%12:"week"===d?i[o].value=i[o].value%4:"second"===d&&(i[o].value=i[o].value%60)),s++);return i}function a(n){var l=void 0!==n.selector?n.selector:e.Elapsed.defaults.selector,u=null,r=null,a=null,o=e.extend({},e.Elapsed.defaults,n);e(document).find(l).each(function(){u=e(this),o.inlineDate?(r=u.attr("data-elapsed-time"),a=void 0!==r?r:o.initTime):a=o.initTime,elapsed=t(a,o),u.html(o.prependPhrase+" "+elapsed.str),i(u,o)})}function i(e,n){var l=null;n.inlineDate?(attrTime=e.attr("data-elapsed-time"),l=void 0!==attrTime?attrTime:n.initTime):l=n.initTime;var u=t(l,n);e.html(n.prependPhrase+" "+u.str);var r=o(u.diff,n);r.run&&setTimeout(function(){i(e,n)},r.time)}function o(e,n){var t={run:!1,time:n.interval};if(0>=e)return t;var l=null,u=null;n.shortHand?(l=n.shortHandValues.minute,u=n.shortHandValues.second):(l="minute",u="second");var r=jQuery.grep(e,function(e){return e.unit===l})[0].value;if(null===r)return t;var a=jQuery.grep(e,function(e){return e.unit===u})[0].value;return t.run=r>=n.stopIntervalMinutes&&!n.clock?!1:!0,n.delay===!0&&r<n.stopIntervalMinutes&&!n.clock&&(r>=30?t.time=18e5:r>=10?t.time=r>10?18e5-6e4*r:6e5:r>=5?t.time=r>5?6e5-6e4*r:3e5:r>0?t.time=6e4:a>=30?t.time=a>30?6e4-1e3*a:3e4:a>=10?t.time=a>10?3e4-1e3*a:1e4:a>=5&&(t.time=a>5?1e4-1e3*a:5e3)),t}e.Elapsed=function(e){return n(e),this},e.Elapsed.defaults={futurePhrase:"has not yet occurred",initPhrase:"just occurred",appendPhrase:"ago",prependPhrase:"",shortHand:!1,shortHandValues:{hour:"hr",minute:"min",second:"sec"},initTime:null,dateType:"ISO",selector:".elapsed",number:"string",exact:!0,interval:1e3,delay:!0,stopIntervalMinutes:30,clock:!1,clockOptions:{decade:{display:!0,lower:10},year:{display:!0,lower:10},month:{display:!0,lower:12},week:{display:!0,lower:4},day:{display:!0,lower:7},hour:{display:!0,lower:24},minute:{display:!0,lower:60},second:{display:!0,lower:60}},seperator:"",timeCache:null,attrTimeCache:null,inlineDate:!1};var s={single:["zero","one","two","three","four","five","six","seven","eight","nine"],teens:["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],tens:["twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"]}}(jQuery);